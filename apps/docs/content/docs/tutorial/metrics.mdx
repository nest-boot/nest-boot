---
title: "Metrics"
description: "The @nest-boot/metrics module provides application metrics with Prometheus using prom-client."
---

The `@nest-boot/metrics` module provides application metrics with [Prometheus](https://prometheus.io/) using [prom-client](https://github.com/siimon/prom-client), exposing a `/metrics` endpoint for scraping.

## Installation

```bash
npm install @nest-boot/metrics prom-client
# or
pnpm add @nest-boot/metrics prom-client
```

## Basic Usage

```typescript
import { Module } from "@nestjs/common";
import { MetricsModule } from "@nest-boot/metrics";

@Module({
  imports: [MetricsModule.register({})],
})
export class AppModule {}
```

## Custom Metrics

```typescript
import { Injectable, OnModuleInit } from "@nestjs/common";
import { Counter, Histogram, Registry } from "prom-client";

@Injectable()
export class OrderMetrics implements OnModuleInit {
  private ordersCreated!: Counter;
  private orderDuration!: Histogram;

  constructor(private readonly registry: Registry) {}

  onModuleInit() {
    this.ordersCreated = new Counter({
      name: "orders_created_total",
      help: "Total number of orders created",
      labelNames: ["status"],
      registers: [this.registry],
    });
  }

  recordOrderCreated(status: string) {
    this.ordersCreated.inc({ status });
  }
}
```

## Features

- **Default Metrics** - Automatic collection of Node.js runtime metrics
- **Metrics Endpoint** - Built-in `GET /metrics` controller
- **Custom Metrics** - Full prom-client API (Counter, Histogram, Gauge, Summary)
- **Prometheus Compatible** - Standard exposition format for scraping

## API Reference

For detailed API documentation, see the [Metrics API Reference](/docs/api/metrics).
