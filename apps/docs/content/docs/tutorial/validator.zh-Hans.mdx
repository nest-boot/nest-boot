---
title: "验证器"
description: "NestJS 验证工具，集成 class-validator。"
---

`@nest-boot/validator` 模块提供与 [class-validator](https://github.com/typestack/class-validator) 和 NestJS 管道集成的验证工具。

## 安装

```bash
pnpm add @nest-boot/validator class-validator class-transformer
```

## 用法

在 `main.ts` 中全局应用 `ValidationPipe`：

```typescript
import { ValidationPipe } from "@nestjs/common";
import { NestFactory } from "@nestjs/core";
import { AppModule } from "./app/app.module";

async function bootstrap() {
  const app = await NestFactory.create(AppModule);

  app.useGlobalPipes(
    new ValidationPipe({
      transform: true,
      forbidUnknownValues: false,
    }),
  );

  await app.listen(process.env.PORT ?? 4000);
}

void bootstrap();
```

### 验证输入类型

在 GraphQL 输入类型上使用 `class-validator` 装饰器：

```typescript
import { Field, InputType } from "@nest-boot/graphql";
import { IsEmail, IsString, MinLength } from "class-validator";

@InputType()
export class CreateUserInput {
  @IsString()
  @MinLength(2)
  @Field(() => String)
  name!: string;

  @IsEmail()
  @Field(() => String)
  email!: string;
}
```

## API 参考

详细的 API 文档请参阅[验证器 API 参考](/docs/api/validator)。
