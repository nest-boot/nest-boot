---
title: "加密"
description: "敏感数据的对称加密和解密。"
---

`@nest-boot/crypt` 模块使用共享密钥提供对称加密/解密，适用于加密 API 密钥、Token 和其他静态敏感数据。

## 安装

```bash
pnpm add @nest-boot/crypt
```

## 模块注册

```typescript
import { CryptModule } from "@nest-boot/crypt";
import { ConfigService } from "@nestjs/config";

const CryptDynamicModule = CryptModule.registerAsync({
  inject: [ConfigService],
  useFactory: (configService: ConfigService) => ({
    secret: configService.get("APP_SECRET", "secret"),
  }),
});
```

## 用法

```typescript
import { CryptService } from "@nest-boot/crypt";
import { Injectable } from "@nestjs/common";

@Injectable()
export class SecretService {
  constructor(private readonly cryptService: CryptService) {}

  encrypt(value: string): string {
    return this.cryptService.encrypt(value);
  }

  decrypt(encrypted: string): string {
    return this.cryptService.decrypt(encrypted);
  }
}
```

## MikroORM 集成

使用 `@nest-boot/mikro-orm-crypt` 的 `@EncryptedProperty()` 装饰器实现自动字段加密。详见 [MikroORM 教程](/docs/tutorial/mikro-orm#加密属性)。

## API 参考

详细的 API 文档请参阅[加密 API 参考](/docs/api/crypt)。
