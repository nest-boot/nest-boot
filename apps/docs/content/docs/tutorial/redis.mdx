---
title: "Redis"
description: "Redis integration for NestJS with environment-based configuration and easy injection."
---

The `@nest-boot/redis` module provides a simple Redis integration using [ioredis](https://github.com/redis/ioredis) with environment-based configuration.

## Installation

```bash
pnpm add @nest-boot/redis
```

## Module Registration

```typescript
import { RedisModule } from "@nest-boot/redis";

@Global()
@Module({
  imports: [RedisModule],
})
export class CommonModule {}
```

By default, the module reads the `REDIS_URL` environment variable.

### Custom Configuration

```typescript
import { RedisModule } from "@nest-boot/redis";

@Module({
  imports: [
    RedisModule.registerAsync({
      inject: [ConfigService],
      useFactory: (configService: ConfigService) => ({
        url: configService.getOrThrow("REDIS_URL"),
      }),
    }),
  ],
})
export class CommonModule {}
```

## Usage

Inject the Redis client with `@InjectRedis()`:

```typescript
import { InjectRedis } from "@nest-boot/redis";
import { Injectable } from "@nestjs/common";
import { Redis } from "ioredis";

@Injectable()
export class CacheService {
  constructor(@InjectRedis() private readonly redis: Redis) {}

  async get(key: string): Promise<string | null> {
    return this.redis.get(key);
  }

  async set(key: string, value: string, ttl?: number): Promise<void> {
    if (ttl) {
      await this.redis.set(key, value, "EX", ttl);
    } else {
      await this.redis.set(key, value);
    }
  }
}
```

## API Reference

For detailed API documentation, see the [Redis API Reference](/docs/api/redis).
